<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Immersive Scroll Storytelling</title>

<style>
:root{
  --progress:0;
}

*{margin:0;padding:0;box-sizing:border-box}

body{
  font-family:system-ui,-apple-system,sans-serif;
  background:#0b0c10;
  color:white;
  overflow-x:hidden;
  scroll-behavior:smooth;
}

/* ---------- STRUCTURE ---------- */

section{
  min-height:200vh;
  padding:12vw;
  display:flex;
  flex-direction:column;
  justify-content:center;
  position:relative;
}

.hero{
  min-height:120vh;
  background:radial-gradient(circle at center,#1c1d25 0%,#0b0c10 70%);
  text-align:center;
}

.hero h1{
  font-size:clamp(2.5rem,6vw,5rem);
  letter-spacing:-0.03em;
  opacity:.85;
}

/* ---------- PARALLAX ---------- */

.parallax-layer{
  position:absolute;
  inset:0;
  background-size:cover;
  background-position:center;
  transform:translateY(calc(var(--progress) * -50px));
  opacity:.25;
  pointer-events:none;
}

/* ---------- CARD ---------- */

.card{
  width:min(90vw,480px);
  aspect-ratio:3/4;
  border-radius:28px;
  overflow:hidden;
  transform:scale(calc(1 + var(--progress) * .3))
            rotateX(calc(var(--progress) * 8deg));
  transition:transform .1s linear;
  box-shadow:0 40px 120px rgba(0,0,0,.7);
}

.card img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.zoom-layer{
  position:absolute;
  inset:0;
  background-size:cover;
  background-position:center;
  transform:scale(calc(1 + var(--progress) * 1.8));
  opacity:calc(var(--progress));
}

/* ---------- TEXT BLOCK ---------- */

.text-block{
  max-width:650px;
  margin-top:40px;
  line-height:1.7;
  opacity:.75;
}

/* ---------- STORY SECTIONS ---------- */

.story-dark{
  background:radial-gradient(circle at center,#111 0%,#000 90%);
}

.story-light{
  background:#f5f5f5;
  color:#111;
}

/* ---------- CANVAS ---------- */

canvas{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:-1;
}

/* ---------- MOBILE ---------- */

@media(max-width:768px){
  section{padding:10vw}
}
</style>
</head>
<body>

<canvas id="webgl"></canvas>

<!-- HERO -->
<section class="hero">
  <h1>Uma Experiência de Scroll Cinematográfica</h1>
</section>

<!-- INTRO -->
<section>
  <div class="parallax-layer" style="background-image:url('https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?q=80&w=1400');"></div>
  <h2>Scroll é Narrativa</h2>
  <div class="text-block">
    Cada gesto vertical é uma transição espacial. Não navegamos páginas,
    atravessamos ambientes.
  </div>
</section>

<!-- GATO -->
<section class="story-dark">
  <div class="card">
    <img src="https://images.unsplash.com/photo-1518791841217-8f162f1e1131?q=80&w=1000">
    <div class="zoom-layer" style="background-image:url('https://images.unsplash.com/photo-1518791841217-8f162f1e1131?q=80&w=1000');"></div>
  </div>
  <div class="text-block">
    Aproximar-se é mudar o contexto. A superfície deixa de ser objeto.
    Torna-se ambiente.
  </div>
</section>

<!-- TRANSIÇÃO SENSORIAL -->
<section>
  <h2>Dentro do Olhar</h2>
  <div class="text-block">
    Textura. Granulação. Frequência.
    A imagem deixa de ser fotografia e se transforma em atmosfera.
  </div>
</section>

<!-- ARQUITETURA -->
<section class="story-light">
  <h2>Espaço Arquitetônico</h2>
  <div class="text-block">
    Continuidade espacial significa nunca cortar abruptamente.
    Cada seção emerge da anterior.
  </div>
</section>

<!-- FOTOGRAFIA -->
<section class="story-dark">
  <h2>Luz e Profundidade</h2>
  <div class="text-block">
    Scroll-driven storytelling permite conduzir atenção,
    ritmo e percepção.
  </div>
</section>

<!-- ENCERRAMENTO -->
<section>
  <h2>Fim é apenas transição</h2>
  <div class="text-block">
    Este não é um site. É uma experiência espacial controlada por gesto.
  </div>
</section>

<!-- THREE.JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r152/three.min.js"></script>

<script>
/* -----------------------------
   SCROLL PROGRESS GLOBAL
------------------------------*/

const root=document.documentElement
const maxScroll=document.body.scrollHeight-window.innerHeight

window.addEventListener("scroll",()=>{
  const progress=window.scrollY/maxScroll
  root.style.setProperty("--progress",progress)
})

/* -----------------------------
   THREE.JS BACKGROUND SHADER
------------------------------*/

const scene=new THREE.Scene()
const camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1)
const renderer=new THREE.WebGLRenderer({
  canvas:document.getElementById("webgl"),
  alpha:true
})

renderer.setSize(window.innerWidth,window.innerHeight)

const geometry=new THREE.PlaneGeometry(2,2)

const material=new THREE.ShaderMaterial({
  uniforms:{
    u_time:{value:0},
    u_progress:{value:0}
  },
  vertexShader:`
    varying vec2 vUv;
    void main(){
      vUv=uv;
      gl_Position=vec4(position,1.0);
    }
  `,
  fragmentShader:`
    uniform float u_time;
    uniform float u_progress;
    varying vec2 vUv;

    float noise(vec2 p){
      return fract(sin(dot(p,vec2(12.9898,78.233)))*43758.5453);
    }

    void main(){
      float distortion=sin(vUv.y*10.0 + u_time)*0.02*u_progress;
      vec2 uv=vUv + vec2(distortion,0.0);
      float grain=noise(uv*vec2(800.0))*0.15*u_progress;
      gl_FragColor=vec4(vec3(grain),0.08*u_progress);
    }
  `,
  transparent:true
})

const mesh=new THREE.Mesh(geometry,material)
scene.add(mesh)

function animate(){
  requestAnimationFrame(animate)
  material.uniforms.u_time.value+=0.03
  material.uniforms.u_progress.value=window.scrollY/maxScroll
  renderer.render(scene,camera)
}

animate()

window.addEventListener("resize",()=>{
  renderer.setSize(window.innerWidth,window.innerHeight)
})
</script>

</body>
</html>