<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iracema Imersiva</title>
    <style>
        :root {
            --primary: #e67e22;
            --bg: #0a0a0a;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            background-color: var(--bg); 
            color: white; 
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
        }

        /* 1. PERSPECTIVA NO PAI: Cria o ambiente 3D */
        .scrolly-wrapper {
            perspective: 1000px;
            height: 400vh; /* Espaço total de scroll */
        }

        /* Elemento fixo que segura a cena */
        .scene {
            position: sticky;
            top: 0;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            transform-style: preserve-3d;
        }

        /* 2. O CARD (Visual) com Efeito de Escala e Rotação */
        .visual-card {
            position: absolute;
            width: 60%;
            max-width: 800px;
            height: 450px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 25px 50px rgba(0,0,0,0.5);
            
            /* Estado Inicial (Escondido e Longe) */
            opacity: 0;
            transform: translateZ(-200px) rotateX(10deg);
            transition: all 0.8s cubic-bezier(0.25, 1, 0.5, 1);
            pointer-events: none;
        }

        .visual-card.active {
            opacity: 1;
            transform: translateZ(0) rotateX(0deg);
            pointer-events: auto;
        }

        .visual-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Camada de Gradiente sobre a foto */
        .overlay {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 50%;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            display: flex;
            align-items: flex-end;
            padding: 40px;
        }

        /* 3. CONTEÚDO DE TEXTO (Scroll) */
        .text-overlay {
            position: absolute;
            width: 100%;
            pointer-events: none;
        }

        .step {
            height: 100vh;
            display: flex;
            align-items: center;
            padding-left: 10%;
            opacity: 0;
            transition: 0.5s;
        }

        .step-content {
            max-width: 400px;
            background: rgba(0,0,0,0.6);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-left: 4px solid var(--primary);
            pointer-events: all;
        }

        .step-content h2 { color: var(--primary); margin-bottom: 15px; font-size: 2rem; }
    </style>
</head>
<body>

<div class="scrolly-wrapper">
    <div class="scene">
        <div class="visual-card active" data-id="historia">
            <img src="https://images.unsplash.com/photo-1590508591873-1085078a6e43?auto=format&fit=crop&w=1200" alt="Estátua de Iracema">
            <div class="overlay"><h3>A Lenda de Alencar</h3></div>
        </div>

        <div class="visual-card" data-id="atracoes">
            <img src="https://images.unsplash.com/photo-1516301138275-f37089196b04?auto=format&fit=crop&w=1200" alt="Ponte dos Ingleses">
            <div class="overlay"><h3>Pôr do Sol na Ponte</h3></div>
        </div>

        <div class="visual-card" data-id="valorizacao">
            <img src="https://images.unsplash.com/photo-1496560230581-996162e3c90a?auto=format&fit=crop&w=1200" alt="Dragão do Mar">
            <div class="overlay"><h3>Cultura e Boemia</h3></div>
        </div>
    </div>

    <div class="text-overlay">
        <section class="step" id="historia">
            <div class="step-content">
                <h2>História</h2>
                <p>A Praia de Iracema carrega o nome da personagem de José de Alencar, símbolo da resistência e identidade do Ceará.</p>
            </div>
        </section>

        <section class="step" id="atracoes">
            <div class="step-content">
                <h2>Atrações</h2>
                <p>Da Ponte dos Ingleses ao Estoril, cada passo revela um marco arquitetônico que resiste ao tempo.</p>
            </div>
        </section>

        <section class="step" id="valorizacao">
            <div class="step-content">
                <h2>Valorização</h2>
                <p>Mais que turismo, é um patrimônio vivo. O Dragão do Mar e os novos calçadões revitalizam o orgulho de ser fortalezense.</p>
            </div>
        </section>
    </div>
</div>

<script>
    const observerOptions = {
        threshold: 0.5
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                // Ativar o card visual correspondente
                const id = entry.target.id;
                
                document.querySelectorAll('.visual-card').forEach(card => {
                    card.classList.remove('active');
                    if (card.dataset.id === id) {
                        card.classList.add('active');
                    }
                });

                // Efeito de fade no texto
                entry.target.style.opacity = "1";
            } else {
                entry.target.style.opacity = "0";
            }
        });
    }, observerOptions);

    document.querySelectorAll('.step').forEach(step => observer.observe(step));
</script>

</body>
</html>
